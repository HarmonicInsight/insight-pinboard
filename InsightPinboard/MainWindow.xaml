<Window x:Class="InsightPinboard.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Insight Pinboard" 
        Width="1200" Height="800"
        MinWidth="800" MinHeight="600"
        Background="{StaticResource BgDark}"
        WindowStartupLocation="CenterScreen"
        AllowDrop="True"
        Drop="Window_Drop"
        DragOver="Window_DragOver"
        Closing="Window_Closing">

    <Grid>
        <Grid.RowDefinitions>
            <!-- Toolbar -->
            <RowDefinition Height="44"/>
            <!-- Board Tabs -->
            <RowDefinition Height="36"/>
            <!-- Canvas -->
            <RowDefinition Height="*"/>
            <!-- Status Bar -->
            <RowDefinition Height="24"/>
        </Grid.RowDefinitions>

        <!-- ===== TOOLBAR ===== -->
        <Border Grid.Row="0" Background="{StaticResource BgPanel}" 
                BorderBrush="{StaticResource BorderSubtle}" BorderThickness="0,0,0,1">
            <DockPanel Margin="12,0">
                <TextBlock Text="ðŸ“Œ Insight Pinboard" 
                           Foreground="{StaticResource FgPrimary}" 
                           FontSize="15" FontWeight="SemiBold"
                           VerticalAlignment="Center" Margin="0,0,20,0"/>

                <Button Content="ðŸ“ ãƒ¡ãƒ¢è¿½åŠ " Click="AddNote_Click"
                        Style="{x:Null}"
                        Background="Transparent" Foreground="{StaticResource FgSecondary}"
                        BorderThickness="1" BorderBrush="{StaticResource BorderSubtle}"
                        Padding="10,4" Margin="4,0" FontSize="12" Cursor="Hand"/>

                <Button Content="ðŸ’¾ ä¿å­˜" Click="Save_Click"
                        Style="{x:Null}"
                        Background="Transparent" Foreground="{StaticResource FgSecondary}"
                        BorderThickness="1" BorderBrush="{StaticResource BorderSubtle}"
                        Padding="10,4" Margin="4,0" FontSize="12" Cursor="Hand"/>

                <!-- Right side -->
                <TextBlock DockPanel.Dock="Right" 
                           Text="ãƒ•ã‚¡ã‚¤ãƒ«ã‚„URLã‚’ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—ã—ã¦ãã ã•ã„"
                           Foreground="{StaticResource FgDim}" FontSize="11"
                           VerticalAlignment="Center" HorizontalAlignment="Right"/>
            </DockPanel>
        </Border>

        <!-- ===== BOARD TABS ===== -->
        <Border Grid.Row="1" Background="{StaticResource BgPanel}"
                BorderBrush="{StaticResource BorderSubtle}" BorderThickness="0,0,0,1">
            <DockPanel>
                <Button DockPanel.Dock="Right" Content=" ï¼‹ " Click="AddBoard_Click"
                        Style="{x:Null}"
                        Background="Transparent" Foreground="{StaticResource FgDim}"
                        BorderThickness="0" FontSize="14" Cursor="Hand"
                        Padding="8,0" Margin="4,0"
                        ToolTip="æ–°ã—ã„ãƒœãƒ¼ãƒ‰ã‚’è¿½åŠ "/>

                <ItemsControl x:Name="BoardTabs" Margin="12,0,0,0">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Orientation="Horizontal"/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            </DockPanel>
        </Border>

        <!-- ===== CANVAS ===== -->
        <Canvas x:Name="PinCanvas" Grid.Row="2" 
                Background="{StaticResource BgDark}"
                ClipToBounds="True"
                MouseLeftButtonDown="Canvas_MouseLeftButtonDown"
                MouseRightButtonDown="Canvas_MouseRightButtonDown">

            <!-- Drop hint when empty -->
            <TextBlock x:Name="EmptyHint"
                       Text="ðŸ“Œ ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ•ã‚©ãƒ«ãƒ€ãƒ»URLã‚’ã“ã“ã«ãƒ‰ãƒ­ãƒƒãƒ—"
                       Foreground="{StaticResource FgDim}" FontSize="18"
                       Canvas.Left="0" Canvas.Top="0"
                       Visibility="Visible"/>
        </Canvas>

        <!-- ===== STATUS BAR ===== -->
        <Border Grid.Row="3" Background="{StaticResource BgPanel}"
                BorderBrush="{StaticResource BorderSubtle}" BorderThickness="0,1,0,0">
            <DockPanel Margin="12,0">
                <TextBlock x:Name="StatusText" Text="æº–å‚™å®Œäº†"
                           Foreground="{StaticResource FgDim}" FontSize="10"
                           VerticalAlignment="Center"/>
                <TextBlock x:Name="ItemCountText" Text=""
                           Foreground="{StaticResource FgDim}" FontSize="10"
                           VerticalAlignment="Center" HorizontalAlignment="Right"
                           DockPanel.Dock="Right"/>
            </DockPanel>
        </Border>
    </Grid>
</Window>
